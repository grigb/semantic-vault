# Rust Frontend App: Design & Feature Scope

## Overview
This document describes the requirements, features, and technical design for a new Rust-based frontend app that queries the local Graphiti backend and displays results.

## Purpose
- Provide a fast, native desktop UI for semantic search over the user's Notion/Obsidian vault data, powered by the local Graphiti backend.
- Enable users to enter queries, view semantic search results, and interact with their knowledge base visually.

---

## Functional Requirements

### 1. Query Interface
- Text input for user queries
- Submit button (or Enter key support)
- Optionally, recent query history

### 2. Backend Communication
- Send HTTP POST requests to the Graphiti backend search endpoint (configurable URL, default: `http://localhost:8000/search`)
- Request format:
  - `query` (string)
  - `group_id` (string, e.g. `notion`)
  - `max_facts` (integer, e.g. 5-20)
- Parse and handle JSON responses, including error handling and timeouts

### 3. Results Display
- List of results with:
  - Title (node name or top heading)
  - Summary/fact (snippet)
  - Link to original file (if available)
  - UUID and metadata (optional, expandable)
- Support for clickable links (open in default browser or file explorer)
- Scrollable results area

### 4. Usability Features
- Loading indicator during queries
- Error messages for failed queries
- Clear input/reset button
- Responsive, native-feeling UI

### 5. Platform Support
- Must compile and run on macOS (Apple Silicon and Intel)
- Should use a cross-platform GUI library (e.g. egui, Tauri, or iced)
- Minimal external dependencies; all open source

### 6. Configurability
- Allow user to set/change backend URL and group_id from the UI
- Save settings to a config file in the user's home directory

### 7. Packaging & Distribution
- Build as a native macOS app (.app bundle or CLI binary)
- Easy to launch from Finder or Terminal
- Include README for build/run instructions

---

## Technical Design

### Rust Crates/Libraries
- `reqwest` for HTTP requests
- `serde`/`serde_json` for JSON parsing
- GUI: `iced` (preferred for native feel), or `egui`/`tauri`
- `directories` for config file path

### App Structure
- `main.rs`: Entry point, sets up GUI and handles events
- `config.rs`: Loads/saves backend URL, group_id, etc.
- `search.rs`: Handles API requests and response parsing
- `ui.rs`: GUI components and event wiring

### Directory Layout
```
design_docs_for_app/
  README.md
rust_frontend_app/
  src/
    main.rs
    config.rs
    search.rs
    ui.rs
  Cargo.toml
```

---

## User Flow
1. User launches the app.
2. Enters a query and presses Enter.
3. App sends request to backend, shows loading.
4. Results appear in a scrollable list.
5. User can click a result to open the file/link.
6. User can adjust backend URL/group_id in settings.

---

## Future Enhancements (Not in MVP)
- Dark/light mode toggle
- Persistent query history
- Export results to file
- Advanced filtering/sorting
- Keyboard shortcuts

---

## Open Questions
- Should the app support multiple backends?
- Should it allow ingesting new files directly from the UI?

---

## MVP Acceptance Criteria
- User can search and see results from their Notion vault via Graphiti backend
- App runs natively on Mac
- Basic error handling and settings

---

## Authors
- Generated by Cascade AI for Distributed Creatives
- Date: 2025-04-20
